import{a as c}from"./index-DHsdRK8i.js";const r=[{id:1,name:"Chennai",lat:13.0827,lon:80.2707},{id:2,name:"Coimbatore",lat:11.0168,lon:76.9558},{id:3,name:"Salem",lat:11.6643,lon:78.146}],p=async(o,a)=>{try{const e=(await c.get(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o}&lon=${a}`)).data.address;let t="Unknown";const i=[e.city,e.town,e.village,e.county,e.state_district];for(const s of i)s&&(s.includes("Chennai")?t="Chennai":s.includes("Coimbatore")?t="Coimbatore":s.includes("Salem")&&(t="Salem"));t==="Unknown"&&(t=m(o,a));const l=r.find(s=>s.name===t);return l||r[0]}catch(n){return console.error("Error determining municipality:",n),d(o,a)}},m=(o,a)=>{let n=r[0],e=1/0;return r.forEach(t=>{const i=Math.sqrt(Math.pow(t.lat-o,2)+Math.pow(t.lon-a,2));i<e&&(e=i,n=t)}),n.name},d=(o,a)=>{let n=r[0],e=1/0;return r.forEach(t=>{const i=Math.sqrt(Math.pow(t.lat-o,2)+Math.pow(t.lon-a,2));i<e&&(e=i,n=t)}),n};export{p as determineMunicipality};
